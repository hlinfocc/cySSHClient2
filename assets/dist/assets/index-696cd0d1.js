import{d as M,b as d,aa as H,w as D,o as N,H as c,I as $,l,U as n,u as t,F as L,Y as j,L as B,W as T,Q as g,r as U,ab as A,B as J,J as y,M as z,ac as Q}from"./pinia-dfb2bf3c.js";import{R as W,G as Y,_ as K,a as X,F as Z}from"./screen-in-7267f5d1.js";import{N as P,I as R,R as I,D as ee,B as te,_ as le}from"./index-c77ef364.js";import{O,P as ae,G as oe,C as p,T as S}from"./index-187dff85.js";import"./index-976374e7.js";import{a as se,b as ne,q as re}from"./hostsExtend-017e8047.js";import{D as G}from"./index-3cbe15e1.js";import{a as ie,F as h}from"./index-cda2b22d.js";import{S as de}from"./index-20a310da.js";import{q as ue}from"./hosts-5c3d02d8.js";import"./index-1498335c.js";import"./index-d1f252c4.js";import"./echarts4-8e4eed5b.js";import"./echarts-0ad49557.js";import"./vue-c279faa6.js";import"./axios-7a713374.js";import"./mitt-f7ef348c.js";import"./index-3e1553a6.js";import"./repeat-click-f4a85144.js";const me={class:"demo-drawer"},pe={name:"Editor"},ce=M({...pe,props:{visible:{type:Boolean,default:!1},artdata:{type:Object,default:()=>{}}},emits:["update:visible","update:artdata","success"],setup(F,{emit:E}){const i=d(!1),b=d(!1);d([{label:"demo",value:"1"}]);const k=d([]),s=d({cloudType:"",startTime:"",endTime:"",izCrond:0,remarks:""}),f=F,x=H(f,"visible"),C=H(f,"artdata"),V=a=>{i.value=a},w=()=>{console.log("fromData:",s.value),b.value?ne(s.value).then(a=>{let e="error";a.code===200&&(i.value=!1,e="success",v("success",!0),v("update:artdata",s.value)),P({type:e,message:a.msg,position:"top-right"})}):se(s.value).then(a=>{let e="error";a.code===200&&(i.value=!1,e="success",v("success",!0),v("update:artdata",s.value)),P({type:e,message:a.msg,position:"top-right"})})},q=()=>{ue({page:0,limit:0,hostExtent:1}).then(e=>{e.code===200&&(k.value=e.data)})},v=E;return D(x,(a,e)=>{i.value=x.value}),D(i,(a,e)=>{v("update:visible",i.value)}),D(C,(a,e)=>{s.value=C.value,b.value=!0}),N(()=>{q()}),(a,e)=>(c(),$("div",me,[l(t(ee),{visible:i.value,"onUpdate:visible":e[6]||(e[6]=o=>i.value=o),title:a.$t("hostExtend.form.title"),"show-footer":"",width:"40%",onClose:e[7]||(e[7]=o=>V(!1)),onConfirm:w},{default:n(()=>[l(t(ie),{ref:"ruleFormRef",model:s.value,"label-position":"left","label-align":!0,"label-width":"190px",style:{"margin-top":"20px"}},{default:n(()=>[l(t(h),{label:a.$t("hostExtend.form.ID"),prop:"id"},{default:n(()=>[l(t(de),{modelValue:s.value.id,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.id=o),clearable:""},{default:n(()=>[l(t(O),{label:"请选择",value:""}),(c(!0),$(L,null,j(k.value,o=>(c(),B(t(O),{key:o.id,label:o.host,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(t(h),{label:a.$t("hostExtend.columns.cloudType"),prop:"cloudType",required:""},{default:n(()=>[l(t(R),{modelValue:s.value.cloudType,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.cloudType=o),placeholder:a.$t("hostExtend.form.cloudType.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(t(h),{label:a.$t("hostExtend.columns.startTime"),prop:"startTime",required:""},{default:n(()=>[l(t(G),{modelValue:s.value.startTime,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.startTime=o),type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",isutc8:!0},null,8,["modelValue"])]),_:1},8,["label"]),l(t(h),{label:a.$t("hostExtend.columns.endTime"),prop:"endTime",required:""},{default:n(()=>[l(t(G),{modelValue:s.value.endTime,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.endTime=o),type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",isutc8:!0},null,8,["modelValue"])]),_:1},8,["label"]),l(t(h),{label:a.$t("hostExtend.columns.izCrond"),prop:"izCrond",required:"",extra:a.$t("hostExtend.form.izCrond.extra")},{default:n(()=>[l(t(W),{modelValue:s.value.izCrond,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.izCrond=o)},{default:n(()=>[l(t(I),{label:1},{default:n(()=>[T(g(a.$t("hostExtend.columns.izCrond.yes")),1)]),_:1}),l(t(I),{label:0},{default:n(()=>[T(g(a.$t("hostExtend.columns.izCrond.no")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","extra"]),l(t(h),{label:a.$t("hostExtend.columns.remarks"),prop:"remarks"},{default:n(()=>[l(t(R),{modelValue:s.value.remarks,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.remarks=o),placeholder:a.$t("hostExtend.form.remarks.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]))}}),fe={class:"container-list"},ve={class:"contain"},ye={class:"tiny-fullscreen-scroll"},ge={class:"tiny-fullscreen-wrapper"},be={class:"btn"},he={class:"screen"},Ee=["onClick"],Ce=M({__name:"index",setup(F){const E=d(!1),i=d({}),b=U({loading:!1,filterOptions:{}}),k=U({component:ae,attrs:{currentPage:1,pageSize:10,pageSizes:[10,20],total:10,layout:"total, prev, pager, next, jumper, sizes"}});let s=d([]);const f=d(),{loading:x,filterOptions:C}=A(b);async function V(r={page:1,limit:10,status:""}){console.log("filterOptions.value:",C.value);const{...m}=C.value,_={...r,...m};b.loading=!0;try{const u=await re(_);return s.value=u.data,{result:u.data,page:{total:u.count}}}finally{b.loading=!1}}const w=()=>{a()},q=U({api:({page:r})=>{const{currentPage:m,pageSize:_}=r;return V({page:m,limit:_})}}),v=r=>{E.value=!0,console.log("eeeee:",Q(r)),i.value=r};function a(){f==null||f.value.handleFetch("reload"),V()}d(!0);const e=d(!1),o=()=>{e.value=!e.value};return N(()=>{V()}),(r,m)=>{const _=J("Breadcrumb");return c(),$("div",fe,[l(_,{items:["menu.keys","menu.hostExtend.list"]}),y("div",ve,[l(t(Z),{teleport:!0,"page-only":!0,"z-index":999,fullscreen:e.value,"onUpdate:fullscreen":m[1]||(m[1]=u=>e.value=u)},{default:n(()=>[y("div",ye,[y("div",ge,[l(t(oe),{ref_key:"taskGrid",ref:f,"fetch-data":q,pager:k,loading:t(x),"seq-serial":"",size:"medium","auto-resize":!0,"row-id":"id"},{toolbar:n(()=>[l(t(Y),null,{buttons:n(()=>[y("div",be,[l(t(te),{type:"info",onClick:m[0]||(m[0]=()=>{E.value=!0})},{default:n(()=>[T(g(r.$t("hostExtend.operation.create")),1)]),_:1}),y("div",he,[e.value?z("",!0):(c(),$("img",{key:0,src:K,class:"screen-image",onClick:o})),e.value?(c(),$("img",{key:1,src:X,class:"screen-image",onClick:o})):z("",!0),y("span",{onClick:o},g(e.value?r.$t("hostExtend.collapse.restores"):r.$t("hostExtend.collapse.full")),1)])])]),_:1})]),default:n(()=>[l(t(p),{type:"index",width:"60"}),l(t(p),{field:"host",title:r.$t("hostExtend.columns.host"),align:"center"},null,8,["title"]),l(t(p),{field:"cloudType",title:r.$t("hostExtend.columns.cloudType"),align:"center"},null,8,["title"]),l(t(p),{field:"startTime",title:r.$t("hostExtend.columns.startTime"),align:"center"},null,8,["title"]),l(t(p),{field:"endTime",title:r.$t("hostExtend.columns.endTime"),align:"center"},null,8,["title"]),l(t(p),{field:"izCrond",title:r.$t("hostExtend.columns.izCrond"),align:"center"},{default:n(({row:u})=>[u.izCrond===1?(c(),B(t(S),{key:0,type:"info"},{default:n(()=>[T(g(r.$t("hostExtend.columns.izCrond.yes")),1)]),_:1})):z("",!0),u.izCrond===0?(c(),B(t(S),{key:1,type:"warning"},{default:n(()=>[T(g(r.$t("hostExtend.columns.izCrond.no")),1)]),_:1})):z("",!0)]),_:1},8,["title"]),l(t(p),{field:"remarks",title:r.$t("hostExtend.columns.remarks"),align:"center"},null,8,["title"]),l(t(p),{title:r.$t("hostExtend.columns.operations"),align:"center"},{default:n(u=>[y("a",{class:"operation-item",onClick:Ve=>v(u.row)},g(r.$t("hostExtend.columns.operations.editor")),9,Ee)]),_:1},8,["title"])]),_:1},8,["fetch-data","pager","loading"])])])]),_:1},8,["fullscreen"])]),l(ce,{visible:E.value,artdata:i.value,onSuccess:w},null,8,["visible","artdata"])])}}});const Me=le(Ce,[["__scopeId","data-v-fb0da8b9"]]);export{Me as default};
