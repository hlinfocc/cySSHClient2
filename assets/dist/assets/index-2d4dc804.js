import{d as M,b as u,aa as H,w as D,o as N,H as f,I as T,l,U as n,u as t,F as L,Y as j,L as B,W as _,Q as y,r as U,ac as A,B as J,J as g,M as z,ab as Q}from"./pinia-940ae834.js";import{S as W,R as Y,G as K,_ as X,a as Z,F as ee}from"./screen-in-2a92fe34.js";import{N as P,I as R,R as I,D as te,B as le,_ as ae}from"./index-df97e239.js";import{O,P as oe,G as se,C as c,T as S}from"./index-6ea62cd5.js";import{a as ne,b as re,q as ie}from"./hostsExtend-017e8047.js";import{D as G}from"./index-fa94a9c1.js";import{a as de,F as E}from"./index-f5ff2f83.js";import{q as ue}from"./hosts-5c3d02d8.js";import"./index-0ba72dba.js";import"./index-5261b4fe.js";import"./echarts4-cf16eb29.js";import"./echarts-0ad49557.js";import"./vue-b33d3fd0.js";import"./axios-7a713374.js";import"./mitt-f7ef348c.js";import"./index-67275039.js";import"./repeat-click-53ec2fbd.js";const me={class:"demo-drawer"},pe={name:"Editor"},ce=M({...pe,props:{visible:{type:Boolean,default:!1},artdata:{type:Object,default:()=>{}}},emits:["update:visible","update:artdata","success"],setup(F,{emit:b}){const d=u(!1),h=u(!1);u([{label:"demo",value:"1"}]);const k=u([]),s=u({cloudType:"",startTime:"",endTime:"",izCrond:0,remarks:""}),v=F,x=H(v,"visible"),C=H(v,"artdata"),V=a=>{d.value=a},w=()=>{console.log("fromData:",s.value),h.value?re(s.value).then(a=>{let e="error";a.code===200&&(d.value=!1,e="success",p("success",!0),p("update:artdata",s.value),p("update:visible",!1)),P({type:e,message:a.msg,position:"top-right"})}):ne(s.value).then(a=>{let e="error";a.code===200&&(d.value=!1,e="success",p("success",!0),p("update:artdata",s.value),p("update:visible",!1)),P({type:e,message:a.msg,position:"top-right"})})},q=()=>{ue({page:0,limit:0,hostExtent:1}).then(e=>{e.code===200&&(k.value=e.data)})},p=b;return D(x,(a,e)=>{d.value=x.value}),D(d,(a,e)=>{p("update:visible",d.value)}),D(C,(a,e)=>{s.value=C.value,h.value=!0}),N(()=>{q()}),(a,e)=>(f(),T("div",me,[l(t(te),{visible:d.value,"onUpdate:visible":e[6]||(e[6]=o=>d.value=o),title:a.$t("hostExtend.form.title"),"show-footer":"",width:"40%",onClose:e[7]||(e[7]=o=>V(!1)),onConfirm:w},{default:n(()=>[l(t(de),{ref:"ruleFormRef",model:s.value,"label-position":"left","label-align":!0,"label-width":"190px",style:{"margin-top":"20px"}},{default:n(()=>[l(t(E),{label:a.$t("hostExtend.form.ID"),prop:"id"},{default:n(()=>[l(t(W),{modelValue:s.value.id,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.id=o),clearable:""},{default:n(()=>[l(t(O),{label:"请选择",value:""}),(f(!0),T(L,null,j(k.value,o=>(f(),B(t(O),{key:o.id,label:o.host,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(t(E),{label:a.$t("hostExtend.columns.cloudType"),prop:"cloudType",required:""},{default:n(()=>[l(t(R),{modelValue:s.value.cloudType,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.cloudType=o),placeholder:a.$t("hostExtend.form.cloudType.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(t(E),{label:a.$t("hostExtend.columns.startTime"),prop:"startTime",required:""},{default:n(()=>[l(t(G),{modelValue:s.value.startTime,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.startTime=o),type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",isutc8:!0},null,8,["modelValue"])]),_:1},8,["label"]),l(t(E),{label:a.$t("hostExtend.columns.endTime"),prop:"endTime",required:""},{default:n(()=>[l(t(G),{modelValue:s.value.endTime,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.endTime=o),type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",isutc8:!0},null,8,["modelValue"])]),_:1},8,["label"]),l(t(E),{label:a.$t("hostExtend.columns.izCrond"),prop:"izCrond",required:"",extra:a.$t("hostExtend.form.izCrond.extra")},{default:n(()=>[l(t(Y),{modelValue:s.value.izCrond,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.izCrond=o)},{default:n(()=>[l(t(I),{label:1},{default:n(()=>[_(y(a.$t("hostExtend.columns.izCrond.yes")),1)]),_:1}),l(t(I),{label:0},{default:n(()=>[_(y(a.$t("hostExtend.columns.izCrond.no")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","extra"]),l(t(E),{label:a.$t("hostExtend.columns.remarks"),prop:"remarks"},{default:n(()=>[l(t(R),{modelValue:s.value.remarks,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.remarks=o),placeholder:a.$t("hostExtend.form.remarks.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])]))}}),fe={class:"container-list"},ve={class:"contain"},ge={class:"tiny-fullscreen-scroll"},ye={class:"tiny-fullscreen-wrapper"},be={class:"btn"},he={class:"screen"},Ee=["onClick"],Ce=M({__name:"index",setup(F){const b=u(!1),d=u({}),h=U({loading:!1,filterOptions:{}}),k=U({component:oe,attrs:{currentPage:1,pageSize:10,pageSizes:[10,20],total:10,layout:"total, prev, pager, next, jumper, sizes"}});let s=u([]);const v=u(),{loading:x,filterOptions:C}=A(h);async function V(r={page:1,limit:10,status:""}){console.log("filterOptions.value:",C.value);const{...m}=C.value,$={...r,...m};h.loading=!0;try{const i=await ie($);return s.value=i.data,{result:i.data,page:{total:i.count}}}finally{h.loading=!1}}const w=()=>{a()},q=U({api:({page:r})=>{const{currentPage:m,pageSize:$}=r;return V({page:m,limit:$})}}),p=r=>{b.value=!0,console.log("eeeee:",Q(r)),d.value=r};function a(){v==null||v.value.handleFetch("reload"),V()}u(!0);const e=u(!1),o=()=>{e.value=!e.value};return N(()=>{V()}),(r,m)=>{const $=J("Breadcrumb");return f(),T("div",fe,[l($,{items:["menu.hosts","menu.hostExtend.list"]}),g("div",ve,[l(t(ee),{teleport:!0,"page-only":!0,"z-index":999,fullscreen:e.value,"onUpdate:fullscreen":m[1]||(m[1]=i=>e.value=i)},{default:n(()=>[g("div",ge,[g("div",ye,[l(t(se),{ref_key:"taskGrid",ref:v,"fetch-data":q,pager:k,loading:t(x),"seq-serial":"",size:"medium","auto-resize":!0,"row-id":"id"},{toolbar:n(()=>[l(t(K),null,{buttons:n(()=>[g("div",be,[l(t(le),{type:"info",onClick:m[0]||(m[0]=()=>{b.value=!0})},{default:n(()=>[_(y(r.$t("hostExtend.operation.create")),1)]),_:1}),g("div",he,[e.value?z("",!0):(f(),T("img",{key:0,src:X,class:"screen-image",onClick:o})),e.value?(f(),T("img",{key:1,src:Z,class:"screen-image",onClick:o})):z("",!0),g("span",{onClick:o},y(e.value?r.$t("hostExtend.collapse.restores"):r.$t("hostExtend.collapse.full")),1)])])]),_:1})]),default:n(()=>[l(t(c),{type:"index",width:"60"}),l(t(c),{field:"host",title:r.$t("hostExtend.columns.host"),align:"center"},null,8,["title"]),l(t(c),{field:"cloudType",title:r.$t("hostExtend.columns.cloudType"),align:"center"},null,8,["title"]),l(t(c),{field:"startTime",title:r.$t("hostExtend.columns.startTime"),align:"center"},null,8,["title"]),l(t(c),{field:"endTime",title:r.$t("hostExtend.columns.endTime"),align:"center"},null,8,["title"]),l(t(c),{field:"izCrond",title:r.$t("hostExtend.columns.izCrond"),align:"center"},{default:n(({row:i})=>[i.izCrond===1?(f(),B(t(S),{key:0,type:"info"},{default:n(()=>[_(y(r.$t("hostExtend.columns.izCrond.yes")),1)]),_:1})):z("",!0),i.izCrond===0?(f(),B(t(S),{key:1,type:"warning"},{default:n(()=>[_(y(r.$t("hostExtend.columns.izCrond.no")),1)]),_:1})):z("",!0)]),_:1},8,["title"]),l(t(c),{field:"remarks",title:r.$t("hostExtend.columns.remarks"),align:"center"},null,8,["title"]),l(t(c),{title:r.$t("hostExtend.columns.operations"),align:"center"},{default:n(i=>[g("a",{class:"operation-item",onClick:Ve=>p(i.row)},y(r.$t("hostExtend.columns.operations.editor")),9,Ee)]),_:1},8,["title"])]),_:1},8,["fetch-data","pager","loading"])])])]),_:1},8,["fullscreen"])]),l(ce,{visible:b.value,"onUpdate:visible":m[2]||(m[2]=i=>b.value=i),artdata:d.value,onSuccess:w},null,8,["visible","artdata"])])}}});const Se=ae(Ce,[["__scopeId","data-v-c0d27b01"]]);export{Se as default};
