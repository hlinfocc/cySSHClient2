import{q as Me,d as te,n as re,a6 as pe,I as de,a0 as ue,B as Be,v as fe,ag as ze,ah as ye,ai as ge,aj as ve,G as me,ak as Ve,p as he,s as be,al as Ee,Y as Ae,a as Fe,b as Ne,$ as qe,U as Z}from"./index-c77ef364.js";import{T as ce,O as Ce,G as Ke,_ as ke,H as we,I as Te,F as Se,J as $e,K as He,M as Pe,a as je,N as Oe,Q as Ie}from"./index-187dff85.js";import{H as l,I as a,J as h,B as g,a2 as j,V as O,P as v,L as d,M as p,N as i,S as M,U as u,l as c,W as k,Q as y,F as $,Y as E,$ as K,a1 as b,_ as f,X as D,ae as Le,O as V,R,D as De}from"./pinia-dfb2bf3c.js";var Re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{"enable-background":"new 0 0 16 16"},"xml:space":"preserve"},Ge=h("rect",{style:{fill:"none"}},null,-1),Qe=h("path",{d:"M8 1.5C4.4 1.5 1.5 4.4 1.5 8s2.9 6.5 6.5 6.5 6.5-2.9 6.5-6.5S11.6 1.5 8 1.5zm0 12C5 13.5 2.5 11 2.5 8S5 2.5 8 2.5 13.5 5 13.5 8 11 13.5 8 13.5zM12 8c0 .3-.2.5-.5.5h-3v3c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-3h-3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3v-3c0-.3.2-.5.5-.5s.5.2.5.5v3h3c.3 0 .5.2.5.5z",style:{"fill-rule":"evenodd","clip-rule":"evenodd"}},null,-1),We=[Ge,Qe];function Ue(e,t){return l(),a("svg",Re,[].concat(We))}var Ye={render:Ue},Xe=function(){return Me({name:"IconAddCircle",component:Ye})()};function Je(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ze(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(e,t){if(e){if(typeof e=="string")return le(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(t,n){for(var r=t.__vccOpts||t,B=Je(n),C;!(C=B()).done;){var z=C.value,I=z[0],w=z[1];r[I]=w}return r};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(null,arguments)}var ne=function(t,n,r){var B=n.expression?n.value:n.arg,C=r.context.$refs[B];C&&(Array.isArray(C)?C[0].$refs.reference=t:C.$refs.reference=t)},_e=te({emits:["update:modelValue","change","focus","blur","clear","remove-tag","visible-change","handleDropdownClick","dropdown-click","top-create-click"],directives:re({Clickoutside:pe,popover:{bind:function(t,n,r){ne(t,n,r)},inserted:function(t,n,r){ne(t,n,r)}}}),components:{TinyTag:ce,TinyInput:de,TinyOption:Ce,TinyGrid:Ke,TinyTree:ue,TinyButton:Be,IconClose:fe(),TinyScrollbar:ke,IconCopy:we(),IconAddCircle:Xe(),IconLoadingShadow:ze(),TinySelectDropdown:Te,IconHalfselect:ye(),IconCheck:ge(),IconCheckedSur:ve(),TinyFilterBox:Se,TinyTooltip:me,TinyRecycleScroller:$e,IconSearch:Ve(),IconDownWard:He(),IconEllipsis:Pe(),IconChevronUp:je()},props:[].concat(he,["id","multiple","name","dataset","readonly","tabindex","dropStyle","valueField","textField","copyable","size","options","showCheck","showAlloption","hideDrop","modelValue","showOverflowTooltip","remote","remoteConfig","placement","loading","disabled","valueKey","clearable","noDataText","filterable","loadingText","noMatchText","popperClass","allowCreate","placeholder","remoteMethod","filterMethod","collapseTags","autocomplete","multipleLimit","reserveKeyword","automaticDropdown","defaultFirstOption","popperAppendToBody","showDropdown","expandTags","renderType","gridOp","treeOp","delay","cacheOp","isDropInheritWidth","tagSelectable","selectConfig","radioConfig","allowCopy","textSplit","autoClose","queryDebounce","ignoreEnter","dropdownIcon","disabledTooltipContent","hoverExpand","optimization","displayOnly","initQuery","extraQueryParams","shape","label","tip","updateDelay","showTips","popperOptions","trim","topCreate","topCreateText","keepFocus","initLabel","blank","tooltipConfig","searchable","showEmptyImage","inputBoxType","tagType","clearNoMatchValue","showLimitText","showProportion","clickExpand","maxVisibleRows","showAllTextTag","allText"]),setup:function(t,n){return be({props:t,context:n,renderless:Oe,api:Ie})}}),et=["title"],tt={key:0},lt={key:0},nt={class:"tiny-select__tags-text"},ot={key:0},at={class:"tiny-select__tags-text"},st={key:1,ref:"tags-content"},it={key:0,class:"tiny-select__tags-text"},rt={key:1,class:"tiny-select__tags-text"},pt={key:0},dt={key:1},ut={key:0},ft={key:1},yt=["disabled","autocomplete"],gt={key:0,class:"tiny-select__limit-txt"},vt={key:1,class:"tiny-select__proportion-txt"},mt={key:1,class:"tiny-select__top-create"},ht={class:"tiny-icon-close"},bt={key:0,class:"tiny-select-dropdown__empty-wrap"},ct={key:1,class:"tiny-select-dropdown__empty-images"},Ct={key:2,class:"tiny-select-dropdown__empty"},kt={key:0,class:"tiny-select-dropdown__empty-images"},wt={key:1,class:"tiny-select-dropdown__empty"},Tt={key:0,class:"tiny-select__placeholder"},St=h("input",{class:"tiny-input__inner",disabled:""},null,-1),$t=[St];function Ot(e,t,n,r,B,C){var z=g("tiny-filter-box"),I=g("tiny-tooltip"),w=g("tiny-tag"),G=g("icon-ellipsis"),Q=g("icon-chevron-up"),W=g("icon-copy"),N=g("icon-close"),q=g("tiny-input"),A=g("tiny-grid"),U=g("tiny-tree"),P=g("icon-search"),F=g("tiny-option"),Y=g("tiny-recycle-scroller"),X=g("tiny-scrollbar"),J=g("tiny-select-dropdown"),o=j("popover"),T=j("clickoutside");return O((l(),a("div",{ref:"select",class:i(["tiny-select",[e.state.selectSize?"tiny-select--"+e.state.selectSize:"",e.state.collapseTags?"tiny-select__collapse-tags":"",e.filterable?"tiny-select__filterable":"",e.multiple?"tiny-select__multiple":"",(e.state.inputHovering||e.state.visible)&&!e.clickExpand?"is-hover":"",e.state.isDisplayOnly?"is-display-only":"",e.hoverExpand?"is-hover-expand":"",e.clickExpand?"is-click-expand":"",e.state.showCollapseTag?"collapse-tag-clicked":"",e.state.isDisabled?"is-disabled":""]]),onMouseleave:t[41]||(t[41]=f(function(){e.state.selectHover=!1,e.state.inputHovering=!1},["self"])),onMouseenter:t[42]||(t[42]=f(function(){e.state.selectHover=!0,e.state.inputHovering=!0},["self"])),onClick:t[43]||(t[43]=function(){return e.toggleMenu&&e.toggleMenu.apply(e,arguments)})},[h("div",{ref:"tagsGroup",style:M(e.state.selectFiexd),class:i(["tiny-select__tags-group",{"is-expand":e.state.isExpand}]),title:e.multiple&&!e.state.selectDisabled&&e.state.selected.length?e.state.selected.map(function(s){return s.state?s.state.currentLabel:s.currentLabel}).join("; "):!e.multiple&&e.state.selectDisabled?e.state.selectedLabel:""},[v(e.$slots,"reference",{},function(){return[e.shape==="filter"?(l(),d(z,{key:0,ref:"reference",onClick:e.toggleMenu,"show-close":e.clearable,placeholder:e.placeholder,disabled:e.state.selectDisabled,label:e.label,tip:e.tip,value:e.multiple?e.state.selected.map(function(s){return s.state?s.state.currentLabel:s.currentLabel}).join("; "):e.state.selectedLabel,"drop-down-visible":e.state.visible,blank:e.blank},null,8,["onClick","show-close","placeholder","disabled","label","tip","value","drop-down-visible","blank"])):p("v-if",!0),e.multiple&&!e.state.isDisplayOnly&&!e.shape?(l(),a("div",{key:1,ref:"tags",class:i(["tiny-select__tags",{"is-showicon":e.slots.prefix,"not-selected":!e.state.selected.length},{"is-show-tag":!e.state.isShowTagText}]),style:M(e.state.tagsStyle)},[e.state.isShowTagText?(l(),a("span",{key:1,class:i(["tiny-select__tags-text","is-display-only",{"is-disabled":e.state.isDisabled}])},[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top","popper-class":e.tooltipConfig.popperClass||"",disabled:!e.showTips},{content:u(function(){return[h("div",{class:i([e.state.showTips&&"tiny-select__show-tips","tiny-select__show-common"])},[e.slots.label?(l(),a("span",ut,[(l(!0),a($,null,E(e.state.selected,function(s){return l(),a("span",{key:e.getValueKey(s)},[v(e.$slots,"label",{item:s})])}),128))])):(l(),a("span",ft,y(e.disabledTooltipContent||e.state.disabledTooltipContent),1))],2)]}),default:u(function(){return[h("span",null,[(l(!0),a($,null,E(e.state.selected,function(s){return l(),a("span",{key:s.value},[v(e.$slots,"label",{item:s},function(){return[k(y(s.state?s.state.currentLabel:s.currentLabel),1)]})])}),128))])]}),_:3},8,["effect","placement","popper-class","disabled"])],2)):(l(),a("span",tt,[e.collapseTags&&e.state.selected.length?(l(),a("span",lt,[(l(),d(w,{class:i({"is-required":e.state.selected[0].required}),closable:e.isTagClosable(e.state.selected[0]),size:e.state.collapseTagSize,hit:e.state.selected[0].state?e.state.selected[0].state.hitState:e.state.selected[0].hitState,key:e.state.key,disabled:e.state.selected[0].disabled||e.state.isDisabled,type:e.state.getTagType,onClose:t[1]||(t[1]=function(s){return e.deleteTag(s,e.state.selected[0])}),"disable-transitions":""},{default:u(function(){return[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top","popper-class":e.tooltipConfig.popperClass||"",onMouseenter:t[0]||(t[0]=function(s){return e.handleEnterTag(s,e.getValueKey(e.state.selected[0]))})},{content:u(function(){return[e.state.tooltipContent[e.getValueKey(e.state.selected[0])]?(l(),a("span",ot,[v(e.$slots,"label",{item:e.getLabelSlotValue(e.state.selected[0])},function(){return[k(y(e.state.selected[0].state?e.state.selected[0].state.currentLabel:e.state.selected[0].currentLabel),1)]})])):p("v-if",!0)]}),default:u(function(){return[h("span",nt,[v(e.$slots,"label",{item:e.getLabelSlotValue(e.state.selected[0])},function(){return[k(y(e.state.selected[0].state?e.state.selected[0].state.currentLabel:e.state.selected[0].currentLabel),1)]})])]}),_:3},8,["effect","placement","popper-class"])]}),_:3},8,["class","closable","size","hit","disabled","type"])),e.state.selected.length>1?(l(),d(w,{key:0,closable:!1,size:e.state.collapseTagSize,type:e.state.getTagType,disabled:e.state.isDisabled,"disable-transitions":"",class:"tiny-select__tags-number"},{default:u(function(){return[h("span",at,"+ "+y(e.state.selected.length-1),1)]}),_:1},8,["size","type","disabled"])):p("v-if",!0)])):p("v-if",!0),e.collapseTags?p("v-if",!0):(l(),a("span",st,[e.showAllTextTag&&e.state.selectCls==="checked-sur"?(l(),d(w,{type:e.state.getTagType,key:"tags-all-text-tag","data-tag":"tags-all-text-tag",disabled:e.state.isDisabled,closable:!0,size:e.state.collapseTagSize,onClose:t[2]||(t[2]=function(s){return e.toggleCheckAll(!1)})},{default:u(function(){return[k(y(e.allText||e.t("ui.base.all")),1)]}),_:1},8,["type","disabled","size"])):(l(),a($,{key:1},[e.hoverExpand||e.clickExpand?(l(),d(w,{class:i(["tiny-select__tags-collapse",{"is-hidden":e.state.isHidden||e.state.isDisabled}]),type:e.state.getTagType,key:"tags-collapse","data-tag":"tags-collapse","only-icon":"",closable:!1,size:e.state.collapseTagSize,onClick:t[3]||(t[3]=function(s){return e.onClickCollapseTag(s)})},{default:u(function(){return[e.hoverExpand?(l(),a($,{key:0},[k(" + "+y(e.state.collapseTagsLength),1)],64)):(l(),d(G,{key:1}))]}),_:1},8,["class","type","size"])):p("v-if",!0),(l(!0),a($,null,E(e.state.selected,function(s,L){return l(),d(w,{key:e.getValueKey(s),class:i({"not-visible":e.state.toHideIndex<=L&&!e.state.isExpand,"is-required":s.required}),closable:e.isTagClosable(s),disabled:e.state.isDisabled||s.disabled,size:e.state.collapseTagSize,hit:s.state?s.state.hitState:s.hitState,type:e.state.getTagType,onClose:function(S){return e.deleteTag(S,s)},"disable-transitions":""},{default:u(function(){return[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top","popper-class":e.tooltipConfig.popperClass||"",onMouseenter:function(S){return e.handleEnterTag(S,e.getValueKey(s))}},K({default:u(function(){return[!e.state.visible&&e.state.overflow===L?(l(),a("span",it,y(s.state?s.state.currentLabel+"... ":s.currentLabel+"... "),1)):(l(),a("span",rt,[v(e.$slots,"label",{item:e.getLabelSlotValue(s)},function(){return[k(y(s.state?s.state.currentLabel:s.currentLabel),1)]})]))]}),_:2},[e.state.tooltipContent[e.getValueKey(s)]?{name:"content",fn:u(function(){return[!e.state.visible&&e.state.overflow===L?(l(),a("span",pt,y(s.state?s.state.currentLabel+"... ":s.currentLabel+"... "),1)):(l(),a("span",dt,[v(e.$slots,"label",{item:e.getLabelSlotValue(s)},function(){return[k(y(s.state?s.state.currentLabel:s.currentLabel),1)]})]))]}),key:"0"}:void 0]),1032,["effect","placement","popper-class","onMouseenter"])]}),_:2},1032,["class","closable","disabled","size","hit","type","onClose"])}),128)),e.clickExpand&&e.state.showCollapseTag?(l(),a("span",{key:1,class:"tiny-select__collapse-text",onClick:t[4]||(t[4]=function(s){return e.onClickCollapseTag(s)})},[k(y(e.t("ui.select.collapse"))+" ",1),c(Q)])):p("v-if",!0)],64))],512))])),O(h("input",{ref:"input","onUpdate:modelValue":t[5]||(t[5]=function(s){return e.state.query=s}),type:"text",class:i(["tiny-select__input",[e.state.selectSize?"is-"+e.state.selectSize:""]]),disabled:e.state.selectDisabled,autocomplete:e.autocomplete,onFocus:t[6]||(t[6]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[7]||(t[7]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onKeyup:t[8]||(t[8]=function(){return e.managePlaceholder&&e.managePlaceholder.apply(e,arguments)}),onKeydown:[t[9]||(t[9]=function(){return e.resetInputState&&e.resetInputState.apply(e,arguments)}),t[10]||(t[10]=b(f(function(s){return e.navigateOptions("next")},["prevent"]),["down"])),t[11]||(t[11]=b(f(function(s){return e.navigateOptions("prev")},["prevent"]),["up"])),t[12]||(t[12]=b(f(function(){return e.selectOption&&e.selectOption.apply(e,arguments)},["prevent"]),["enter"])),t[13]||(t[13]=b(f(function(s){return e.state.visible=!1},["stop","prevent"]),["esc"])),t[14]||(t[14]=b(function(){return e.deletePrevTag&&e.deletePrevTag.apply(e,arguments)},["delete"])),t[15]||(t[15]=b(function(s){return e.state.visible=!1},["tab"]))],onCompositionstart:t[16]||(t[16]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onCompositionupdate:t[17]||(t[17]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onCompositionend:t[18]||(t[18]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onInput:t[19]||(t[19]=function(){return e.debouncedQueryChange&&e.debouncedQueryChange.apply(e,arguments)}),style:M({"flex-grow":"1",width:e.state.inputLength/(e.state.inputWidth-32)+"%","max-width":e.state.inputWidth-42+"px",height:"auto"})},null,46,yt),[[D,e.filterable&&!e.searchable&&!e.state.selectDisabled],[Le,e.state.query]])],6)):p("v-if",!0),e.shape?p("v-if",!0):(l(),d(q,{key:2,tiny_mode:"pc",ref:"reference",modelValue:e.state.selectedLabel,"onUpdate:modelValue":t[22]||(t[22]=function(s){return e.state.selectedLabel=s}),type:"text",placeholder:e.state.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autocomplete,size:e.state.selectSize,disabled:e.state.selectDisabled,readonly:e.state.readonly,"display-only":e.state.isDisplayOnly,"display-only-content":e.state.displayOnlyContent,unselectable:e.state.readonly?"on":"off","validate-event":!1,inputBoxType:e.inputBoxType,class:i({"is-focus":e.state.visible,overflow:e.state.overflow,"is-show-close":e.state.showClose}),tabindex:e.multiple&&e.filterable?"-1":e.tabindex,onFocus:e.handleFocus,onBlur:e.handleBlur,onKeyup:e.debouncedOnInputChange,onKeydown:[t[23]||(t[23]=b(f(function(s){return e.navigateOptions("next")},["stop","prevent"]),["down"])),t[24]||(t[24]=b(f(function(s){return e.navigateOptions("prev")},["stop","prevent"]),["up"])),b(f(e.selectOption,["prevent"]),["enter"]),t[25]||(t[25]=b(f(function(s){return e.state.visible=!1},["stop","prevent"]),["esc"])),t[26]||(t[26]=b(function(s){return e.state.visible=!1},["tab"]))],onPaste:e.debouncedOnInputChange,onMouseenter:e.onMouseenterNative,onMouseleave:e.onMouseleaveNative,onCompositionend:e.handleComposition},K({suffix:u(function(){return[v(e.$slots,"suffix"),e.showLimitText&&e.multiple&&e.multipleLimit&&!e.state.showCopy?(l(),a("span",gt,y(e.state.selected.length)+"/"+y(e.multipleLimit),1)):e.showProportion&&e.state.selected.length>0&&e.state.options.length>1?(l(),a("span",vt,y(e.state.selected.length+"/"+e.state.options.length),1)):p("v-if",!0),e.state.showCopy?(l(),a("span",{key:2,class:"tiny-select__copy",onClick:t[20]||(t[20]=f(function(){return e.handleCopyClick&&e.handleCopyClick.apply(e,arguments)},["stop"]))},[c(W,{class:"tiny-svg-size tiny-select__caret"})])):p("v-if",!0),e.state.showClose?(l(),d(N,{key:3,class:"tiny-svg-size tiny-select__caret tiny-select__close",onClick:e.handleClearClick,onMouseenter:t[21]||(t[21]=function(s){return e.state.inputHovering=!0})},null,8,["onClick"])):p("v-if",!0),O((l(),d(V(e.state.getIcon.icon),{class:i(["tiny-svg-size","tiny-select__caret",e.state.iconClass,{"is-reverse":!e.state.visible&&e.state.getIcon.isDefault},{"not-reverse":!e.state.getIcon.isDefault}]),onClick:e.handleDropdownClick},null,8,["class","onClick"])),[[D,e.state.autoHideDownIcon?!e.state.showClose&&!(e.remote&&e.filterable&&!e.remoteConfig.showIcon):!(e.remote&&e.filterable&&!e.remoteConfig.showIcon)]])]}),_:2},[e.slots.prefix?{name:"prefix",fn:u(function(){return[v(e.$slots,"prefix")]}),key:"0"}:void 0]),1032,["modelValue","placeholder","name","id","autocomplete","size","disabled","readonly","display-only","display-only-content","unselectable","inputBoxType","class","tabindex","onFocus","onBlur","onKeyup","onKeydown","onPaste","onMouseenter","onMouseleave","onCompositionend"]))]}),c(De,{name:"tiny-zoom-in-top",onBeforeEnter:e.handleMenuEnter,onAfterLeave:e.doDestroy,persisted:""},{default:u(function(){return[O(c(J,{ref:"popper","is-drop-inherit-width":e.isDropInheritWidth,placement:e.placement,"append-to-body":e.popperAppendToBody,style:M(e.dropStyle),"popper-options":e.popperOptions},{default:u(function(){var s,L;return[e.shape&&e.filterable?(l(),a("div",{key:0,class:i(["tiny-select__filter-input",[e.remote&&!e.state.options.length?"tiny-select__remote-input":""]])},[c(q,{ref:"input",modelValue:e.state.query,"onUpdate:modelValue":t[27]||(t[27]=function(m){return e.state.query=m}),placeholder:e.placeholder,onInput:e.debouncedQueryChange,onFocus:e.handleFocus,autofocus:""},null,8,["modelValue","placeholder","onInput","onFocus"])],2)):p("v-if",!0),e.topCreate?(l(),a("div",mt,[h("div",{onClick:t[28]||(t[28]=function(m){return e.$emit("top-create-click",m)})},[(l(),d(V(((s=e.state.designConfig)==null||(L=s.icons)==null?void 0:L.addIcon)||"icon-add-circle"))),h("span",null,y(e.topCreateText),1)])])):p("v-if",!0),e.renderType==="grid"?(l(),d(A,R({key:2,"auto-resize":"","row-id":e.valueField,"select-config":e.buildSelectConfig(),"radio-config":e.buildRadioConfig(),ref:"selectGrid","highlight-current-row":!0,columns:e.gridOp.columns,data:e.state.gridData,onSelectAll:e.selectChange,onSelectChange:e.selectChange,onRadioChange:e.radioChange,onMousedown:t[29]||(t[29]=f(function(){},["stop"]))},e.gridOp),null,16,["row-id","select-config","radio-config","columns","data","onSelectAll","onSelectChange","onRadioChange"])):p("v-if",!0),e.renderType==="tree"?(l(),d(U,R({key:3,"filter-node-method":e.filterMethod,props:x({label:e.textField,isLeaf:"isLeaf"},e.treeOp.props),"expand-on-click-node":!1,"icon-trigger-click-node":!1,"node-key":e.valueField,"default-expand-all":e.state.isExpandAll,"check-strictly":e.treeOp.checkStrictly,"default-checked-keys":e.multiple?e.state.defaultCheckedKeys:e.treeOp.defaultCheckedKeys||[],ref:"selectTree","current-node-key":e.multiple?"":e.state.currentKey,"show-checkbox":e.multiple,onLoadData:e.loadTreeData,onNodeCollapse:e.nodeCollapse,onNodeExpand:e.nodeExpand,onCheck:e.nodeCheckClick,onNodeClick:e.treeNodeClick},e.treeOp),null,16,["filter-node-method","props","node-key","default-expand-all","check-strictly","default-checked-keys","current-node-key","show-checkbox","onLoadData","onNodeCollapse","onNodeExpand","onCheck","onNodeClick"])):p("v-if",!0),e.searchable?(l(),d(q,{key:4,"input-box-type":"underline",modelValue:e.state.query,"onUpdate:modelValue":[t[30]||(t[30]=function(m){return e.state.query=m}),t[31]||(t[31]=function(m){return e.handleQueryChange(e.state.query)})],placeholder:e.t("ui.search.placeholder"),class:"tiny-select-dropdown__search"},{prefix:u(function(){return[c(P,{class:"tiny-select-dropdown__search-prefix"})]}),suffix:u(function(){return[O(h("span",ht,[c(N,{onClick:e.clearSearchText},null,8,["onClick"])],512),[[D,e.state.query]]),c(P,{class:"tiny-select-dropdown__search-suffix"})]}),_:1},8,["modelValue","placeholder"])):p("v-if",!0),e.optimization&&!~["grid","tree"].indexOf(e.renderType)?(l(),a("div",{key:5,style:M({height:e.state.optimizeStore.recycleScrollerHeight+"px"})},[O((l(),d(Y,{ref:"scrollbar",style:{height:"100%"},key:e.state.magicKey,"key-field":e.valueField,"list-class":["tiny-select-dropdown__wrap"],"item-class":["tiny-select-dropdown__item-view"],items:e.state.datas,"item-size":e.state.optimizeOpts.optionHeight},{before:u(function(){return[e.state.showNewOption?(l(),d(F,{key:0,value:e.state.query,created:""},null,8,["value"])):p("v-if",!0)]}),default:u(function(m){var S=m.item;return[v(e.$slots,"default",{item:S},function(){return[(l(),d(F,{key:""+S[e.valueField],label:S[e.textField],value:S[e.valueField],disabled:S.disabled,required:S.required,"highlight-class":S._highlightClass,events:S.events,icon:S.icon,onMousedown:t[32]||(t[32]=f(function(){},["stop"]))},null,8,["label","value","disabled","required","highlight-class","events","icon"]))]})]}),_:3},8,["key-field","items","item-size"])),[[D,!e.state.emptyFlag&&!e.loading]])],4)):p("v-if",!0),!e.optimization&&!~["grid","tree"].indexOf(e.renderType)?O((l(),d(X,{key:6,ref:"scrollbar",show:"",tag:"ul","wrap-class":["tiny-select-dropdown__wrap"],"view-class":["tiny-select-dropdown__list"],onMousedown:t[40]||(t[40]=f(function(){},["stop"])),class:i({"is-empty":!e.allowCreate&&e.state.query&&e.state.filteredOptionsCount===0})},{default:u(function(){return[v(e.$slots,"dropdown"),e.multiple&&e.showCheck&&e.showAlloption&&!e.state.multipleLimit&&!e.state.query&&!e.remote?(l(),a("li",{key:0,class:i(["tiny-option tiny-option_all tiny-select-dropdown__item",[{hover:e.state.hoverIndex===-9&&e.state.selectCls!=="checked-sur"},{selected:e.state.selectCls==="checked-sur"}]]),"data-tag":"tiny-option",onClick:t[33]||(t[33]=f(function(m){return e.toggleCheckAll(!1)},["stop"])),onMousedown:t[34]||(t[34]=f(function(){},["stop"])),onMouseenter:t[35]||(t[35]=function(m){return e.state.hoverIndex=-9})},[(l(),d(V("icon-"+e.state.selectCls),{class:i(["tiny-svg-size",e.state.selectCls])},null,8,["class"])),h("span",null,y(e.allText||e.t("ui.base.all")),1)],34)):p("v-if",!0),e.multiple&&e.showCheck&&e.showAlloption&&!e.state.multipleLimit&&e.state.query&&!e.state.emptyText&&!e.remote?(l(),a("li",{key:1,class:i(["tiny-option tiny-select-dropdown__item",[{hover:e.state.hoverIndex===-9&&e.state.filteredSelectCls!=="checked-sur"},{selected:e.state.filteredSelectCls==="checked-sur"}]]),"data-tag":"tiny-option",onClick:t[36]||(t[36]=f(function(m){return e.toggleCheckAll(!0)},["stop"])),onMousedown:t[37]||(t[37]=f(function(){},["stop"])),onMouseenter:t[38]||(t[38]=function(m){return e.state.hoverIndex=-9})},[(l(),d(V("icon-"+e.state.filteredSelectCls),{class:i(["tiny-svg-size",e.state.filteredSelectCls])},null,8,["class"])),h("span",null,y(e.allText||e.t("ui.base.all")),1)],34)):p("v-if",!0),e.state.showNewOption?(l(),d(F,{key:2,value:e.state.query,created:""},null,8,["value"])):p("v-if",!0),v(e.$slots,"default",{},function(){return[(l(!0),a($,null,E(e.state.datas,function(m){return l(),d(F,{key:""+m[e.valueField],label:m[e.textField],value:m[e.valueField],disabled:m.disabled,required:m.required,"highlight-class":m._highlightClass,events:m.events,onMousedown:t[39]||(t[39]=f(function(){},["stop"])),icon:m.icon},null,8,["label","value","disabled","required","highlight-class","events","icon"])}),128))]})]}),_:3},8,["class"])),[[D,e.state.options.length>0&&!e.loading]]):p("v-if",!0),e.renderType!=="grid"&&e.renderType!=="tree"&&e.state.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.state.emptyFlag)?(l(),a($,{key:7},[e.loadingText||e.slots.empty?(l(),a("div",bt,[e.slots.empty?v(e.$slots,"empty",{key:0}):e.showEmptyImage?(l(),a("span",ct)):(l(),a("p",Ct,y(e.state.emptyText),1))])):(l(),a("div",{key:1,class:i(["tiny-select-dropdown__loading",{"show-loading-icon":e.loading}])},[e.loading?(l(),d(V(e.state.designConfig&&e.state.designConfig.icons&&e.state.designConfig.icons.loadingIcon||"icon-loading-shadow"),{key:0,class:"circular"})):(l(),a($,{key:1},[e.showEmptyImage?(l(),a("span",kt)):(l(),a("span",wt,y(e.state.emptyText),1))],64))],2))],64)):p("v-if",!0),v(e.$slots,"footer")]}),_:3},8,["is-drop-inherit-width","placement","append-to-body","style","popper-options"]),[[D,!e.onCopying()&&!e.hideDrop&&e.state.visible&&e.state.emptyText!==!1]])]}),_:3},8,["onBeforeEnter","onAfterLeave"])],14,et),e.hoverExpand&&!e.state.isDisplayOnly?(l(),a("div",Tt,$t)):p("v-if",!0)],34)),[[o,void 0,"popover"],[T,e.handleClose]])}var oe=xe(_e,[["render",Ot]]);function It(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Lt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lt(e,t){if(e){if(typeof e=="string")return ae(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Dt=function(t,n){for(var r=t.__vccOpts||t,B=It(n),C;!(C=B()).done;){var z=C.value,I=z[0],w=z[1];r[I]=w}return r};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}var Mt={caret:"text-base rotate-0 transition-transform duration-300 fill-color-text-placeholder cursor-pointer ","select-tags":"absolute leading-normal whitespace-normal sm:pl-3 pr-2 z-[1] top-1/2 -translate-y-2/4 flex items-center flex-wrap [&_[data-tag=tiny-tag]]:my-0.5 [&_[data-tag=tiny-tag]]:h-7 [&_[data-tag=tiny-tag]]:text-sm [&_[data-tag=tiny-tag]]:sm:h-5 [&_[data-tag=tiny-tag]]:sm:text-sm [&_[data-tag=tiny-tag]_svg]:shrink-0","tags-text":"inline-block w-full whitespace-nowrap text-ellipsis overflow-hidden align-bottom","tag-info":"whitespace-nowrap text-ellipsis overflow-hidden inline-flex justify-start items-center border-transparent text-color-text-primary"},se=function(t,n,r){var B=n.expression?n.value:n.arg,C=r.context.$refs[B];C&&(Array.isArray(C)?C[0].$refs.reference=t:C.$refs.reference=t)},Bt=te({inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","clear","remove-tag","visible-change","handleDropdownClick","dropdown-click","confirm"],directives:re({Clickoutside:pe,popover:{bind:function(t,n,r){se(t,n,r)},inserted:function(t,n,r){se(t,n,r)}}}),components:{TinyTag:ce,TinyInput:de,TinyOption:Ce,TinyTree:ue,TinyScrollbar:ke,TinyFilterBox:Se,TinyTooltip:me,IconClose:fe(),IconCopy:we(),TinySelectDropdown:Te,IconHalfselect:ye(),IconCheck:ge(),IconCheckedSur:ve(),IconLoading:Ee(),IconChevronRight:Ae(),TinyRecycleScroller:$e},props:[].concat(he,["id","multiple","name","dataset","readonly","tabindex","dropStyle","valueField","textField","copyable","size","options","showCheck","showAlloption","showProportion","hideDrop","modelValue","showOverflowTooltip","remote","remoteConfig","placement","loading","disabled","valueKey","clearable","noDataText","filterable","loadingText","noMatchText","popperClass","allowCreate","placeholder","remoteMethod","filterMethod","collapseTags","autocomplete","multipleLimit","reserveKeyword","automaticDropdown","defaultFirstOption","popperAppendToBody","showDropdown","expandTags","renderType","gridOp","treeOp","delay","cacheOp","isDropInheritWidth","tagSelectable","selectConfig","radioConfig","allowCopy","textSplit","autoClose","queryDebounce","ignoreEnter","dropdownIcon","disabledTooltipContent","hoverExpand","optimization","displayOnly","initQuery","extraQueryParams","shape","label","tip","updateDelay","showTips","popperOptions","title","closeByMask","searchPlaceholder","initLabel","blank","tooltipConfig","allText"]),setup:function(t,n){return be({props:t,context:n,renderless:Oe,api:Ie,classes:Mt})}}),zt=["title"],Vt={key:1,ref:"tags-content",class:"sm:contents hidden"},Et={class:"inline-block w-full whitespace-nowrap text-ellipsis overflow-hidden text-color-text-disabled"},At={key:0},Ft={key:1},Nt=["disabled","autocomplete"],qt={key:1},Kt={key:0},Ht={key:1,class:"py-2.5 px-0 m-0 text-center text-color-text-secondary text-xs"},Pt={key:1,class:"text-center py-2.5 px-0"},jt={key:0,class:"py-2.5 px-0 m-0 text-center text-color-text-secondary text-xs"},Rt=h("input",{disabled:""},null,-1),Gt=[Rt];function Qt(e,t,n,r,B,C){var z=g("tiny-filter-box"),I=g("tiny-tooltip"),w=g("tiny-tag"),G=g("icon-copy"),Q=g("icon-close"),W=g("icon-chevron-right"),N=g("tiny-input"),q=g("tiny-tree"),A=g("tiny-option"),U=g("tiny-recycle-scroller"),P=g("tiny-scrollbar"),F=g("icon-loading"),Y=g("tiny-select-dropdown"),X=j("popover"),J=j("clickoutside");return O((l(),a("div",R({ref:"select",class:["inline-block relative w-full outline-0 group [&_[data-tag=tiny-tag]]:max-w-[144px]",[e.hoverExpand?"align-top":"",e.$parent.$attrs.class]],onMouseleave:t[34]||(t[34]=f(function(){e.state.selectHover=!1,e.state.inputHovering=!1},["self"])),onMouseenter:t[35]||(t[35]=f(function(){e.state.selectHover=!0,e.state.inputHovering=!0},["self"])),onClick:t[36]||(t[36]=function(){return e.toggleMenu&&e.toggleMenu.apply(e,arguments)})},e.a(e.$attrs,["class","style"],!0)),[h("div",{ref:"tagsGroup",style:M(e.state.selectFiexd),class:i([{"absolute top-0 left-0 right-0":e.hoverExpand},{"absolute w-full":e.state.isExpand&&e.hoverExpand},{"z-[2]":e.state.isExpand&&e.hoverExpand&&(e.state.inputHovering||e.state.visible)}]),title:e.multiple&&!e.state.selectDisabled?e.state.selected.map(function(o){return o.state?o.state.currentLabel:o.currentLabel}).join("; "):!e.multiple&&e.state.selectDisabled?e.state.selectedLabel:""},[e.shape==="filter"?(l(),d(z,{key:0,ref:"reference",onClick:e.toggleMenu,"show-close":e.clearable,placeholder:e.placeholder,disabled:e.state.selectDisabled,label:e.label,tip:e.tip,value:e.multiple?e.state.selected.map(function(o){return o.state?o.state.currentLabel:o.currentLabel}).join("; "):e.state.selectedLabel,"drop-down-visible":e.state.visible,blank:e.blank},null,8,["onClick","show-close","placeholder","disabled","label","tip","value","drop-down-visible","blank"])):p("v-if",!0),e.multiple&&!e.state.isDisplayOnly&&!e.shape?(l(),a("div",{key:1,ref:"tags",class:i(e.m(e.gcls("select-tags"),{"pl-9 sm:pl-9":e.slots.prefix},{"overflow-y-hidden":(e.state.inputHovering||e.state.visible)&&!e.state.selected.length},{"h-6 overflow-hidden":e.hoverExpand},{"pr-6":e.state.selectDisabled},{"overflow-y-auto max-h-28 h-auto":e.hoverExpand&&(e.state.inputHovering||e.state.visible)})),style:M(e.state.tagsStyle)},[e.state.selectDisabled?(l(),a("span",{key:1,class:i([e.gcls("tags-text"),"flex"])},[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top",disabled:!e.showTips||e.state.device==="mb","popper-class":e.tooltipConfig.popperClass||""},{content:u(function(){return[h("div",{class:i([e.state.showTips&&"max-h-[theme(spacing.72)] overflow-x-hidden w-full","inline-block"])},[e.slots.label?(l(),a("span",At,[(l(!0),a($,null,E(e.state.selected,function(o){return l(),a("span",{key:e.getValueKey(o)},[v(e.$slots,"label",{item:o})])}),128))])):(l(),a("span",Ft,y(e.disabledTooltipContent||e.state.disabledTooltipContent),1))],2)]}),default:u(function(){return[h("span",Et,[(l(!0),a($,null,E(e.state.selected,function(o){return l(),a("span",{key:o.value},[v(e.$slots,"label",{item:o},function(){return[k(y(o.state?o.state.currentLabel:o.currentLabel),1)]}),k("; ")])}),128))])]}),_:3},8,["effect","placement","disabled","popper-class"])],2)):(l(),a("span",{key:0,class:i([e.collapseTags?e.filterable&&e.state.device==="pc"?"w-auto max-w-[76%] flex":"w-full flex":"contents"])},[(e.collapseTags||e.state.device==="mb")&&e.state.selectedVal.length?(l(),a("span",{key:0,class:i(["contents",e.collapseTags&&e.filterable?"max-w-full flex-1":""])},[(l(),d(w,{closable:!e.state.selectDisabled&&e.state.device!=="mb",size:e.state.collapseTagSize,hit:e.state.selectedVal[0].state?e.state.selectedVal[0].state.hitState:e.state.selectedVal[0].hitState,key:e.state.key,type:"info",class:i(e.gcls("tag-info")),onClose:t[1]||(t[1]=function(o){return e.deleteTag(o,e.state.selectedVal[0])}),"disable-transitions":""},{default:u(function(){return[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top","popper-class":e.tooltipConfig.popperClass||"",onMouseenter:t[0]||(t[0]=function(o){return e.handleEnterTag(o,e.getValueKey(e.state.selectedVal[0]))})},K({default:u(function(){return[h("span",{class:i(e.gcls("tags-text"))},[v(e.$slots,"label",{item:e.getLabelSlotValue(e.state.selectedVal[0])},function(){return[k(y(e.state.selectedVal[0].state?e.state.selectedVal[0].state.currentLabel:e.state.selectedVal[0].currentLabel),1)]})],2)]}),_:2},[e.state.tooltipContent[e.getValueKey(e.state.selectedVal[0])]?{name:"content",fn:u(function(){return[h("span",{class:i(e.gcls("tags-text"))},[v(e.$slots,"label",{item:e.getLabelSlotValue(e.state.selectedVal[0])},function(){return[k(y(e.state.selectedVal[0].state?e.state.selectedVal[0].state.currentLabel:e.state.selectedVal[0].currentLabel),1)]})],2)]}),key:"0"}:void 0]),1032,["effect","placement","popper-class"])]}),_:3},8,["closable","size","hit","class"])),e.state.selectedVal.length>1?(l(),d(w,{key:0,closable:!1,size:e.state.collapseTagSize,class:i(["overflow-visible",e.gcls("tag-info")]),type:"info","disable-transitions":""},{default:u(function(){return[h("span",{class:i(e.gcls("tags-text"))},"+ "+y(e.state.selectedVal.length-1),3)]}),_:1},8,["size","class"])):p("v-if",!0)],2)):p("v-if",!0),e.collapseTags?p("v-if",!0):(l(),a("span",Vt,[e.hoverExpand?(l(),d(w,{class:i(e.m(e.gcls("tag-info"),{"visible static":e.hoverExpand},{"invisible absolute":e.hoverExpand&&(e.state.inputHovering||e.state.visible||e.state.isHidden)})),type:"info","data-tag":"tags-collapse",key:"tags-collapse",closable:!1,size:e.state.collapseTagSize},{default:u(function(){return[k("+ "+y(e.state.collapseTagsLength),1)]}),_:1},8,["class","size"])):p("v-if",!0),(l(!0),a($,null,E(e.state.selected,function(o,T){return l(),d(w,{key:e.getValueKey(o),closable:!o.selectDisabled&&!o.required&&e.state.device!=="mb",size:e.state.collapseTagSize,hit:o.state?o.state.hitState:o.hitState,class:i(e.gcls("tag-info")),type:"info",onClose:function(L){return e.deleteTag(L,o)},"disable-transitions":""},{default:u(function(){return[c(I,{effect:e.tooltipConfig.effect||"light",placement:e.tooltipConfig.placement||"top","popper-class":e.tooltipConfig.popperClass||"",onMouseenter:function(L){return e.handleEnterTag(L,e.getValueKey(o))}},K({default:u(function(){return[!e.state.visible&&e.state.overflow===T?(l(),a("span",{key:0,class:i(e.gcls("tags-text"))},y(o.state?o.state.currentLabel+"... ":o.currentLabel+"... "),3)):(l(),a("span",{key:1,class:i(e.gcls("tags-text"))},[v(e.$slots,"label",{item:e.getLabelSlotValue(o)},function(){return[k(y(o.state?o.state.currentLabel:o.currentLabel),1)]})],2))]}),_:2},[e.state.tooltipContent[e.getValueKey(o)]?{name:"content",fn:u(function(){return[!e.state.visible&&e.state.overflow===T?(l(),a("span",{key:0,class:i(e.gcls("tags-text"))},y(o.state?o.state.currentLabel+"... ":o.currentLabel+"... "),3)):(l(),a("span",{key:1,class:i(e.gcls("tags-text"))},[v(e.$slots,"label",{item:e.getLabelSlotValue(o)},function(){return[k(y(o.state?o.state.currentLabel:o.currentLabel),1)]})],2))]}),key:"0"}:void 0]),1032,["effect","placement","popper-class","onMouseenter"])]}),_:2},1032,["closable","size","hit","class","onClose"])}),128))],512))],2)),e.filterable&&!e.state.selectDisabled?O((l(),a("input",{key:2,ref:"input","onUpdate:modelValue":t[2]||(t[2]=function(o){return e.state.query=o}),type:"text",class:i(["hidden sm:inline-block border-none outline-0 p-0 ml-px text-color-text-primary text-xs h-7 appearance-none bg-transparent",[e.state.selectSize==="mini"?"h-6":"",e.state.selectSize==="small"?"h-9":"",e.state.selectSize==="medium"?"h-8":""]]),disabled:e.state.selectDisabled,autocomplete:e.autocomplete,onFocus:t[3]||(t[3]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[4]||(t[4]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onKeyup:t[5]||(t[5]=function(){return e.managePlaceholder&&e.managePlaceholder.apply(e,arguments)}),onKeydown:[t[6]||(t[6]=function(){return e.resetInputState&&e.resetInputState.apply(e,arguments)}),t[7]||(t[7]=b(f(function(o){return e.navigateOptions("next")},["prevent"]),["down"])),t[8]||(t[8]=b(f(function(o){return e.navigateOptions("prev")},["prevent"]),["up"])),t[9]||(t[9]=b(f(function(){return e.selectOption&&e.selectOption.apply(e,arguments)},["prevent"]),["enter"])),t[10]||(t[10]=b(f(function(o){return e.state.visible=!1},["stop","prevent"]),["esc"])),t[11]||(t[11]=b(function(){return e.deletePrevTag&&e.deletePrevTag.apply(e,arguments)},["delete"])),t[12]||(t[12]=b(function(o){return e.state.visible=!1},["tab"]))],onCompositionstart:t[13]||(t[13]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onCompositionupdate:t[14]||(t[14]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onCompositionend:t[15]||(t[15]=function(){return e.handleComposition&&e.handleComposition.apply(e,arguments)}),onInput:t[16]||(t[16]=function(){return e.debouncedQueryChange&&e.debouncedQueryChange.apply(e,arguments)}),style:M({"flex-grow":"1",width:e.state.inputLength/(e.state.inputWidth-32)+"%","max-width":e.state.inputWidth-42+"px",height:"auto"})},null,46,Nt)),[[Le,e.state.query]]):p("v-if",!0)],6)):p("v-if",!0),e.shape?p("v-if",!0):(l(),d(N,{key:2,ref:"reference",modelValue:e.state.selectedLabel,"onUpdate:modelValue":t[19]||(t[19]=function(o){return e.state.selectedLabel=o}),type:"text",placeholder:e.state.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autocomplete,size:e.state.selectSize,disabled:e.state.selectDisabled,readonly:e.state.readonly,"display-only":e.state.isDisplayOnly,"display-only-content":e.state.displayOnlyContent,unselectable:e.state.readonly?"on":"off","validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":e.tabindex,onFocus:e.handleFocus,onBlur:e.handleBlur,onKeyup:e.debouncedOnInputChange,onKeydown:[t[20]||(t[20]=b(f(function(o){return e.navigateOptions("next")},["stop","prevent"]),["down"])),t[21]||(t[21]=b(f(function(o){return e.navigateOptions("prev")},["stop","prevent"]),["up"])),b(f(e.selectOption,["prevent"]),["enter"]),t[22]||(t[22]=b(f(function(o){return e.state.visible=!1},["stop","prevent"]),["esc"])),t[23]||(t[23]=b(function(o){return e.state.visible=!1},["tab"]))],onPaste:e.debouncedOnInputChange,onMouseenter:e.onMouseenterNative,onMouseleave:e.onMouseleaveNative,onCompositionend:e.handleComposition},K({suffix:u(function(){return[v(e.$slots,"suffix"),e.state.showCopy?(l(),a("span",{key:0,class:"h-4 cursor-pointer relative z-[1]",onClick:t[17]||(t[17]=f(function(){return e.handleCopyClick&&e.handleCopyClick.apply(e,arguments)},["stop"]))},[c(G,{class:i([e.gcls("caret"),"align-top group-hover:fill-color-brand"])},null,8,["class"])])):p("v-if",!0),e.showProportion&&e.state.selected.length>0&&e.state.options.length>1?(l(),a("span",qt,y(e.state.selected.length+"/"+e.state.options.length),1)):p("v-if",!0),e.state.showClose?(l(),d(Q,{key:2,class:i([e.gcls("caret"),"hidden sm:inline-block",{"mr-2 fill-color-text-placeholder hover:fill-color-icon-primary":e.state.showClose},{"mr-1":e.multiple&&e.state.showClose}]),onClick:e.handleClearClick,onMouseenter:t[18]||(t[18]=function(o){return e.state.inputHovering=!0})},null,8,["class","onClick"])):p("v-if",!0),O((l(),d(V(e.dropdownIcon),{class:i(e.m(e.gcls("caret"),"hidden sm:inline-block",e.state.iconClass,{hidden:e.state.selectDisabled},{"fill-color-brand-hover rotate-180 ":e.state.visible})),onClick:e.handleDropdownClick},null,8,["class","onClick"])),[[D,!(e.remote&&e.filterable&&!e.remoteConfig.showIcon)]]),c(W,{"custom-class":"h-5 w-5 sm:h-4 sm:w-4",class:i(["inline-block sm:hidden",[e.state.selectDisabled?"fill-color-icon-placeholder sm:fill-color-icon-disabled":"fill-color-icon-secondary"]])},null,8,["class"])]}),_:2},[e.slots.prefix?{name:"prefix",fn:u(function(){return[v(e.$slots,"prefix")]}),key:"0"}:void 0]),1032,["modelValue","placeholder","name","id","autocomplete","size","disabled","readonly","display-only","display-only-content","unselectable","tabindex","onFocus","onBlur","onKeyup","onKeydown","onPaste","onMouseenter","onMouseleave","onCompositionend"])),c(De,{onBeforeEnter:e.handleMenuEnter,onAfterLeave:e.doDestroy,persisted:""},{default:u(function(){return[O(c(Y,{ref:"popper",title:e.title,"close-by-mask":e.closeByMask,"search-placeholder":e.searchPlaceholder,"is-drop-inherit-width":e.isDropInheritWidth,placement:e.placement,"append-to-body":e.popperAppendToBody,style:M(e.dropStyle),"popper-options":e.popperOptions,class:i(e.m("duration-300"))},{default:u(function(){return[e.shape&&e.filterable?(l(),a("div",{key:0,class:i(["px-3 pt-3 pb-1 hidden sm:block",[e.remote&&!e.state.options.length?"pb-3":""]])},[c(N,{ref:"input",type:"text",modelValue:e.state.query,"onUpdate:modelValue":t[24]||(t[24]=function(o){return e.state.query=o}),placeholder:e.placeholder,onInput:e.debouncedQueryChange,onFocus:e.handleFocus,autofocus:""},null,8,["modelValue","placeholder","onInput","onFocus"])],2)):p("v-if",!0),e.renderType==="tree"?(l(),d(q,R({key:1,class:"[&_[data-tag=tiny-checkbox]_>span_>span]:p-1.5 sm:[&_[data-tag=tiny-checkbox]_>span_>span]:p-0 sm:max-h-56 overflow-auto","filter-node-method":e.filterMethod,props:_({label:e.textField,isLeaf:"isLeaf"},e.treeOp.props),"expand-on-click-node":!1,"icon-trigger-click-node":!1,"node-key":e.valueField,"default-expand-all":e.state.isExpandAll,"check-strictly":e.treeOp.checkStrictly,"default-checked-keys":e.multiple?e.state.defaultCheckedKeys:e.treeOp.defaultCheckedKeys||[],ref:"selectTree","current-node-key":e.multiple?"":e.state.currentKey,"show-checkbox":e.multiple,onLoadData:e.loadTreeData,onNodeCollapse:e.nodeCollapse,onNodeExpand:e.nodeExpand,onCheck:e.nodeCheckClick,onNodeClick:e.treeNodeClick,"show-checked-mark":e.state.device==="mb"},e.treeOp),null,16,["filter-node-method","props","node-key","default-expand-all","check-strictly","default-checked-keys","current-node-key","show-checkbox","onLoadData","onNodeCollapse","onNodeExpand","onCheck","onNodeClick","show-checked-mark"])):p("v-if",!0),e.optimization&&e.renderType!=="tree"?(l(),a("div",{key:2,style:M({height:e.state.optimizeStore.recycleScrollerHeight+"px"})},[O((l(),d(U,{ref:"scrollbar",style:{height:"100%"},"key-field":e.valueField,key:e.state.magicKey,"list-class":["tiny-select-dropdown__wrap sm:max-h-56 pb-1 sm:pb-0",e.state.device==="mb"?"scrollbar-size-0":""],items:e.state.datas,"item-size":e.state.optimizeOpts.optionHeight},{before:u(function(){return[e.state.showNewOption?(l(),d(A,{key:0,highlightClass:"sm:mb-0",created:"",value:e.state.device==="mb"?e.state.queryValue:e.state.query},null,8,["value"])):p("v-if",!0)]}),default:u(function(o){var T=o.item;return[v(e.$slots,"default",{item:T},function(){return[(l(),d(A,{class:i(["absolute w-full"]),key:""+T[e.valueField],label:T[e.textField],value:T[e.valueField],disabled:T.disabled,required:T.required,"highlight-class":T._highlightClass,events:T.events,onMousedown:t[25]||(t[25]=f(function(){},["stop"]))},null,8,["label","value","disabled","required","highlight-class","events"]))]})]}),_:3},8,["key-field","list-class","items","item-size"])),[[D,!e.state.emptyFlag&&!e.loading]])],4)):p("v-if",!0),!e.optimization&&e.renderType!=="tree"?O((l(),d(P,{key:3,ref:"scrollbar",tag:"ul","wrap-class":["tiny-select-dropdown__wrap sm:max-h-56 pb-1 sm:pb-0",e.state.device==="mb"?"scrollbar-size-0":""],"view-class":["tiny-select-dropdown__list"],onMousedown:t[33]||(t[33]=f(function(){},["stop"]))},{default:u(function(){return[v(e.$slots,"dropdown"),e.multiple&&e.showCheck&&e.showAlloption&&!e.state.multipleLimit&&!e.state.query&&!e.remote?(l(),a("div",{key:0,class:i(["whitespace-nowrap box-border py-0 h-10 leading-10 sm:h-8 sm:leading-8 text-sm sm:text-xs pl-0 pr-3 sm:px-3 my-1 sm:m-1 rounded cursor-pointer",[{hover:e.state.hoverIndex===-9&&e.state.selectCls!=="checked-sur"},{"text-color-brand sm:bg-color-fill-6 bg-color-bg-1":e.state.selectCls==="checked-sur"}]]),"data-tag":"tiny-option",onClick:t[26]||(t[26]=f(function(o){return e.toggleCheckAll(!1)},["stop"])),onMousedown:t[27]||(t[27]=f(function(){},["stop"])),onMouseenter:t[28]||(t[28]=function(o){return e.state.hoverIndex=-9})},[(l(),d(V("icon-"+e.state.selectCls),{class:i(e.m(["-mt-0.5 mr-2 fill-color-icon-secondary",e.state.selectCls!=="check"&&"fill-color-brand"]))},null,8,["class"])),h("span",{class:i([e.state.selectCls==="checked-sur"?"text-color-brand":"text-color-text-primary"])},y(e.allText||e.t("ui.base.all")),3)],34)):p("v-if",!0),e.multiple&&e.showCheck&&e.showAlloption&&!e.state.multipleLimit&&e.state.query&&!e.state.emptyText&&!e.remote?(l(),a("div",{key:1,class:i(["whitespace-nowrap box-border py-0 h-10 leading-10 sm:h-8 sm:leading-8 text-sm sm:text-xs pl-0 pr-3 sm:px-3 my-1 sm:m-1 rounded cursor-pointer",[{hover:e.state.hoverIndex===-9&&e.state.filteredSelectCls!=="checked-sur"},{"text-color-brand sm:bg-color-fill-6 bg-color-bg-1":e.state.filteredSelectCls==="checked-sur"}]]),"data-tag":"tiny-option",onClick:t[29]||(t[29]=f(function(o){return e.toggleCheckAll(!0)},["stop"])),onMousedown:t[30]||(t[30]=f(function(){},["stop"])),onMouseenter:t[31]||(t[31]=function(o){return e.state.hoverIndex=-9})},[(l(),d(V("icon-"+e.state.filteredSelectCls),{class:i(e.m(["-mt-0.5 mr-2 fill-color-icon-secondary",e.state.filteredSelectCls!=="check"&&"fill-color-brand"]))},null,8,["class"])),h("span",{class:i([e.state.filteredSelectCls==="checked-sur"?"text-color-brand":"text-color-text-primary"])},y(e.allText||e.t("ui.base.all")),3)],34)):p("v-if",!0),e.state.showNewOption?(l(),d(A,{key:2,value:e.state.device==="mb"?e.state.queryValue:e.state.query,created:""},null,8,["value"])):p("v-if",!0),v(e.$slots,"default",{},function(){return[(l(!0),a($,null,E(e.state.datas,function(o){return l(),d(A,{class:i(["relative"]),key:""+o[e.valueField],label:o[e.textField],value:o[e.valueField],disabled:o.disabled,required:o.required,"highlight-class":o._highlightClass,events:o.events,onMousedown:t[32]||(t[32]=f(function(){},["stop"]))},null,8,["label","value","disabled","required","highlight-class","events"])}),128))]})]}),_:3},8,["wrap-class"])),[[D,e.state.options.length>0&&!e.loading]]):p("v-if",!0),e.renderType!=="tree"&&e.state.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.state.emptyFlag)?(l(),a($,{key:4},[e.loadingText||e.slots.empty?(l(),a("div",Kt,[e.slots.empty?v(e.$slots,"empty",{key:0}):(l(),a("p",Ht,y(e.state.emptyText),1))])):(l(),a("div",Pt,[e.loading?(l(),d(F,{key:1,class:"fill-color-brand h-4 w-4 inline-block align-top animate-spin"})):(l(),a("span",jt,y(e.state.emptyText),1))]))],64)):p("v-if",!0)]}),_:3},8,["title","close-by-mask","search-placeholder","is-drop-inherit-width","placement","append-to-body","style","popper-options","class"]),[[D,!e.onCopying()&&!e.hideDrop&&e.state.visible&&e.state.emptyText!==!1]])]}),_:3},8,["onBeforeEnter","onAfterLeave"])],14,zt),e.hoverExpand&&!e.state.isDisplayOnly?(l(),a("div",{key:0,class:i(e.m("h-7 invisible",{"h-6":e.state.selectSize==="mini"},{"h-7":e.state.selectSize==="small"},{"h-8":e.state.selectSize==="medium"}))},Gt,2)):p("v-if",!0)],16)),[[X,void 0,"popover"],[J,e.handleClose]])}var Wt=Dt(Bt,[["render",Qt]]);function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(null,arguments)}var Ut=function(t){var n,r=typeof process=="object"?(n={})==null?void 0:n.TINY_MODE:null;return(r||t)==="pc"?oe:(r||t)==="mobile-first"?Wt:oe},ie={CLASS:{SelectDropdownWrap:".tiny-select-dropdown__wrap",IsReverse:"is-reverse"},I18N:{noData:"ui.select.noData",noMatch:"ui.select.noMatch",loading:"ui.select.loading"},COMPONENT_NAME:{Form:"Form",Select:"Select",Option:"Option",FormItem:"FormItem",OptionGroup:"OptionGroup",SelectDropdown:"SelectDropdown"},EVENT_NAME:{removeTag:"remove-tag",formChange:"form.change",formBlur:"form.blur",queryChange:"queryChange",setSelected:"setSelected",updatePopper:"updatePopper",destroyPopper:"destroyPopper",visibleChange:"visible-change",handleOptionClick:"handleOptionClick",handleGroupDisabled:"handleGroupDisabled",initValue:"initValue"},TYPE:{Grid:"grid",Tree:"tree"},MAX_WIDTH:132,RECYCLE:{SAAS_HEIGHT:220,AURORA_HEIGHT:180,ITEM_HEIGHT:34,SAFE_MARGIN:4},SAAS_SIZE:{mini:24,small:28,medium:32},AURORA_SIZE:{mini:24,small:36,medium:42},SPACING_HEIGHT:0,MAX_VISIBLE_ROWS:1},H=te({name:Fe+"Select",componentName:"Select",inject:{form:{default:""},formItem:{default:""}},provide:function(){return{select:this}},props:ee({},qe,{_constants:{type:Object,default:function(){return ie}},id:[Number,String],name:String,size:String,remote:Boolean,remoteConfig:{type:Object,default:function(){return{showIcon:!1,clearData:!1,autoSearch:!1}}},title:String,shape:String,tip:String,label:String,loading:Boolean,disabled:Boolean,options:Array,dataset:Object,textField:{type:String,default:"label"},tabindex:{type:String,default:"1"},valueField:{type:String,default:"value"},placement:{type:String,default:"bottom-start"},showCheck:{type:Boolean,default:!0},showAlloption:{type:Boolean,default:!0},multiple:Boolean,clearable:Boolean,noDataText:String,filterable:Boolean,loadingText:String,noMatchText:String,popperClass:String,allowCreate:Boolean,collapseTags:Boolean,remoteMethod:Function,filterMethod:Function,reserveKeyword:Boolean,automaticDropdown:Boolean,defaultFirstOption:Boolean,modelValue:{},valueKey:{type:String,default:"value"},placeholder:{type:String,default:function(){return Z("ui.select.placeholder")}},searchPlaceholder:{type:String,default:function(){return Z("ui.select.pleaseSearch")}},autocomplete:{type:String,default:"off"},multipleLimit:{type:Number,default:0},popperAppendToBody:{type:Boolean,default:!0},hideDrop:{type:Boolean,default:!1},copyable:{type:Boolean,default:!1},renderType:String,gridOp:{type:Object,default:function(){return{}}},treeOp:{type:Object,default:function(){return{}}},delay:{type:Number,default:200},readonly:Boolean,dropStyle:{type:Object,default:function(){return{}}},cacheOp:Object,isDropInheritWidth:Boolean,tagSelectable:{type:Boolean,default:!1},selectConfig:{type:Object,default:function(){return{checkMethod:function(){return!0}}}},radioConfig:{type:Object,default:function(){return{checkMethod:function(){return!0}}}},allowCopy:{type:Boolean,default:!1},textSplit:{type:String,default:","},autoClose:Boolean,queryDebounce:Number,ignoreEnter:{type:Boolean,default:!1},dropdownIcon:{type:[Object,String],default:""},disabledTooltipContent:String,hoverExpand:{type:Boolean,default:!1},optimization:[Boolean,Object],displayOnly:{type:Boolean,default:!1},initQuery:Function,extraQueryParams:{type:[Object,String,Boolean,Array,Number],default:""},updateDelay:{type:Number,default:0},showTips:{type:Boolean,default:!0},closeByMask:{type:Boolean,default:!0},keepFocus:{type:Boolean,default:!1},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1,boundariesPadding:0}}},trim:{type:Boolean,default:!1},topCreate:{type:Boolean,default:!1},topCreateText:{type:String,default:function(){return Z("ui.select.add")}},initLabel:{type:String,default:""},blank:{type:Boolean,default:!1},tooltipConfig:{type:Object,default:function(){return{}}},searchable:{type:Boolean,default:!1},showEmptyImage:{type:Boolean,default:!1},InputBoxType:{type:String,default:"input",validator:function(t){return["input","underline"].includes(t)}},tagType:{type:String,default:""},clearNoMatchValue:{type:Boolean,default:!1},showLimitText:{type:Boolean,default:!1},showProportion:{type:Boolean,default:!1},clickExpand:{type:Boolean,default:!1},maxVisibleRows:{type:Number,default:ie.MAX_VISIBLE_ROWS},allText:{type:String,default:""},showAllTextTag:{type:Boolean,default:!1}}),setup:function(t,n){return Ne({props:t,context:n,template:Ut})}}),Yt="3.19.0";H.model={prop:"modelValue",event:"update:modelValue"};H.install=function(e){e.component(H.name,H)};H.version=Yt;export{H as S};
